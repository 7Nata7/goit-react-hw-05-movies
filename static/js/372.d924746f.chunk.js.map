{"version":3,"file":"static/js/372.d924746f.chunk.js","mappings":"8QACA,EAAwB,sBAAxB,EAA6D,6B,mCCUhDA,EAAc,CACzBC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,WAqET,EAlEe,WACb,OAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAaF,EAAaG,IAAI,SACpCC,QAAQC,IAAIH,GAEZ,IAAMI,EAAY,mCAAG,WAAMC,GAAN,uEACnBA,EAAEC,iBACIC,EAAcF,EAAEG,OAAOC,SAASC,OAAOC,MAC7CZ,EAAgB,CACda,MAAOL,IAJU,2CAAH,sDAkClB,OA1BAM,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,mCAAG,gGAEfd,EAFe,wDAIpBN,GAAa,GAJO,UAMKqB,EAAAA,EAAAA,IAAaf,GANlB,OAQM,KAFpBgB,EANc,QAQLC,OACbC,EAAAA,GAAAA,KAAW,WAAYpC,GAEvBoC,EAAAA,GAAAA,QAAc,oBAAqBpC,GAGrCc,EAAUoB,GAdU,kDAgBpBE,EAAAA,GAAAA,MAAY,yCAA0CpC,GAhBlC,yBAkBpBY,GAAa,GAlBO,6EAAH,qDAsBrBoB,GACD,GAAE,CAACd,KAGF,2BACGP,IAAa,SAAC0B,EAAA,EAAD,KACd,kBAAMC,SAAUhB,EAAhB,WACE,kBACEiB,KAAK,OACLC,KAAK,SACLC,UAAWC,EACXC,YAAY,kBAEd,mBAAQF,UAAWC,EAAkBH,KAAK,SAA1C,SAAmD,eAIrD,wBACG1B,EAAO+B,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAA3B,SAAkCF,EAAMG,SADjCH,EAAME,GADA,QAQxB,C,+ICpFKE,EAAU,+BACVC,EAAS,mCAEFC,EAAiB,mCAAG,sGACRC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,uCACoBC,IAFZ,uBACvBG,EADuB,EACvBA,KADuB,kBAKxBA,EAAKC,SALmB,2CAAH,qDAQjBC,EAAe,mCAAG,WAAMC,GAAN,yFACNJ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACDO,EADC,oBACkBN,EADlB,wCADM,uBACrBG,EADqB,EACrBA,KADqB,kBAKtBA,GALsB,2CAAH,sDAQfpB,EAAY,mCAAG,WAAOH,GAAP,8FAAc2B,EAAd,+BAAqB,EAArB,SACHL,EAAAA,EAAAA,IAAA,UAClBH,EADkB,+BACYnB,EADZ,iBAC0B2B,EAD1B,oBAC0CP,IAFvC,uBAClBG,EADkB,EAClBA,KADkB,kBAKnBA,EAAKC,SALc,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/pages/Movies.module.css?de10","components/pages/Movies.jsx","components/service/Api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__sW9nL\",\"buttonSearch\":\"Movies_buttonSearch__fpwrI\"};","import React, { useState, useEffect } from 'react';\nimport { Loader } from '../Loader/Loader';\nimport css from './Movies.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nimport { searchMovies } from 'components/service/Api';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\n\nexport const toastConfig = {\n  position: 'top-center',\n  autoClose: 1000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'colored',\n};\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchTerm = searchParams.get('query');\n  console.log(searchTerm);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const searchValue = e.target.children.search.value;\n    setSearchParams({\n      query: searchValue,\n    });\n  };\n\n  useEffect(() => {\n    const fetchMoviesData = async () => {\n      try {\n        if (!searchTerm) return;\n\n        setIsLoading(true);\n\n        const moviesData = await searchMovies(searchTerm);\n\n        if (moviesData.length === 0) {\n          toast.warn('No movie', toastConfig);\n        } else {\n          toast.success(\"Wow! It's success\", toastConfig);\n        }\n\n        setMovies(moviesData);\n      } catch (error) {\n        toast.error('Something went wrong. Please try again', toastConfig);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMoviesData();\n  }, [searchTerm]);\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          className={css.input}\n          placeholder=\"Search movie\"\n        />\n        <button className={css.buttonSearch} type=\"submit\">\n          Search\n        </button>\n      </form>\n      <ul>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = '11144b71e142cd1f6ec8753ecdd5b102';\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(\n    `${baseURL}/trending/movie/day?api_key=${apiKey}`\n  );\n\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await axios.get(\n    `${baseURL}/movie/${movieId}?api_key=${apiKey}&append_to_response=credits,reviews`\n  );\n\n  return data;\n};\n\nexport const searchMovies = async (query, page = 1) => {\n  const { data } = await axios.get(\n    `${baseURL}/search/movie?query=${query}&page=${page}&api_key=${apiKey}`\n  );\n\n  return data.results;\n};\n\nexport const getMovieCredits = async movieId => {\n  const { data } = await axios.get(\n    `${baseURL}/movie/${movieId}/credits?api_key=${apiKey}`\n  );\n\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const { data } = await axios.get(\n    `${baseURL}/movie/${movieId}/reviews?api_key=${apiKey}`\n  );\n\n  return data;\n};\n"],"names":["toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","useState","isLoading","setIsLoading","movies","setMovies","useSearchParams","searchParams","setSearchParams","searchTerm","get","console","log","handleSubmit","e","preventDefault","searchValue","target","children","search","value","query","useEffect","fetchMoviesData","searchMovies","moviesData","length","toast","Loader","onSubmit","type","name","className","css","placeholder","map","movie","to","id","title","baseURL","apiKey","getTrendingMovies","axios","data","results","getMovieDetails","movieId","page"],"sourceRoot":""}